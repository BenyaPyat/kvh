\section{kvh\-\_\-driver\-:\-:\-I\-M\-U\-Filter \-Class \-Reference}
\label{classkvh__driver_1_1IMUFilter}\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}


{\ttfamily \#include $<$imufilter.\-hpp$>$}

\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
bool {\bf get\-Estimate} (\-Column\-Vector \&estimate, \-Symmetric\-Matrix \&covar) const 
\begin{DoxyCompactList}\small\item\em \-Gets the latest state estimate from the filter. \end{DoxyCompactList}\item 
{\bf \-I\-M\-U\-Filter} (const \-Column\-Vector \&sys\-\_\-noise\-\_\-mu, const \-Symmetric\-Matrix \&sys\-\_\-noise\-\_\-cov, const \-Column\-Vector \&measurement\-\_\-noise\-\_\-mu, const \-Symmetric\-Matrix \&measurement\-\_\-noise\-\_\-cov)
\begin{DoxyCompactList}\small\item\em \-Constructs a new \-I\-M\-U filter given an expected system noise and covariance and measurement noise and covariance. \end{DoxyCompactList}\item 
bool {\bf init} (const \-Column\-Vector \&initial\-\_\-state, const \-Symmetric\-Matrix \&initial\-\_\-covar)
\begin{DoxyCompactList}\small\item\em \-Initializes the filter to an initial state estimate and covariance. \end{DoxyCompactList}\item 
bool {\bf update} (const \-Column\-Vector \&input, const \-Column\-Vector \&measurement)
\begin{DoxyCompactList}\small\item\em \-Updates the filter given new system input and measurement. \end{DoxyCompactList}\item 
virtual {\bf $\sim$\-I\-M\-U\-Filter} ()
\end{DoxyCompactItemize}
\subsection*{\-Private \-Attributes}
\begin{DoxyCompactItemize}
\item 
std\-::vector$<$ \-Matrix $>$ {\bf \-A\-B\-\_\-}
\item 
\-Extended\-Kalman\-Filter $\ast$ {\bf filter\-\_\-}
\item 
bool {\bf filter\-\_\-init\-\_\-}
\item 
\-Matrix $\ast$ {\bf \-H\-\_\-}
\item 
\-Linear\-Analytic\-Measurement\-Model\-Gaussian\-Uncertainty $\ast$ {\bf mes\-\_\-model\-\_\-}
\item 
\-Linear\-Analytic\-Conditional\-Gaussian $\ast$ {\bf mes\-\_\-pdf\-\_\-}
\item 
\-Gaussian $\ast$ {\bf prior\-\_\-}
\item 
\-Linear\-Analytic\-System\-Model\-Gaussian\-Uncertainty $\ast$ {\bf sys\-\_\-model\-\_\-}
\item 
\-Linear\-Analytic\-Conditional\-Gaussian $\ast$ {\bf sys\-\_\-pdf\-\_\-}
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\begin{DoxyAuthor}{\-Author}
\-Adam \-Panzica \-Simple \-Extended \-Kalman \-Filter implementation based on \-B\-F\-L's filtering library. \-It is hard-\/coded to assume the following system dynamics\-:
\end{DoxyAuthor}
\[ \textbf{X} = \f{bmatrix}{ x \\ y \\ z \\ rx \\ ry \\ rz \\ \dot{x} \\ \dot{y} \\ \dot{z} \\ \dot{rx} \\ \dot{ry} \\ \dot{rz} \end ] \[ \textbf{A} = \f{bmatrix}{ 1 0 0 0 0 0 1 0 0 0 0 0\\ 0 1 0 0 0 0 0 1 0 0 0 0\\ 0 0 1 0 0 0 0 0 1 0 0 0\\ 0 0 0 1 0 0 0 0 0 1 0 0\\ 0 0 0 0 1 0 0 0 0 0 1 0\\ 0 0 0 0 0 1 0 0 0 0 0 1\\ 0 0 0 0 0 0 1 0 0 0 0 0\\ 0 0 0 0 0 0 0 1 0 0 0 0\\ 0 0 0 0 0 0 0 0 1 0 0 0\\ 0 0 0 0 0 0 0 0 0 1 0 0\\ 0 0 0 0 0 0 0 0 0 0 1 0\\ 0 0 0 0 0 0 0 0 0 0 0 1\end ] \[ \textbf{B} = \f{bmatrix}{ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 1 0 0 \\ 0 1 0 \\ 0 0 1 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \end ] \{u\} = \begin{bmatrix} \ddot{x}\\ \ddot{y}\\ \ddot{z}\end{bmatrix} ] \{\-H\} = \begin{bmatrix} 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 0 0 0 \\ 1 0 0 \\ 0 1 0 \\ 0 0 1 \end{bmatrix} ] \{z\} = \begin{bmatrix} \dot{rx}\\ \dot{ry}\\ \dot{rz}\end{bmatrix} ] 

\-Definition at line 90 of file imufilter.\-hpp.



\subsection{\-Constructor \& \-Destructor \-Documentation}
\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!\-I\-M\-U\-Filter@{\-I\-M\-U\-Filter}}
\index{\-I\-M\-U\-Filter@{\-I\-M\-U\-Filter}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{\-I\-M\-U\-Filter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-I\-M\-U\-Filter\-::\-I\-M\-U\-Filter} (
\begin{DoxyParamCaption}
\item[{const \-Column\-Vector \&}]{sys\-\_\-noise\-\_\-mu, }
\item[{const \-Symmetric\-Matrix \&}]{sys\-\_\-noise\-\_\-cov, }
\item[{const \-Column\-Vector \&}]{measurement\-\_\-noise\-\_\-mu, }
\item[{const \-Symmetric\-Matrix \&}]{measurement\-\_\-noise\-\_\-cov}
\end{DoxyParamCaption}
)}\label{classkvh__driver_1_1IMUFilter_a4dcb6570d63cadd3d19a3f2cf1ebd3cb}


\-Constructs a new \-I\-M\-U filter given an expected system noise and covariance and measurement noise and covariance. 

\begin{DoxyAuthor}{\-Author}
\-Adam \-Panzica 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em sys\-\_\-noise\-\_\-mu} & \-The expected system noise \\
\hline
\mbox{\tt in}  & {\em sys\-\_\-noise\-\_\-cov} & \-The expected system covariance \\
\hline
\mbox{\tt in}  & {\em measurement\-\_\-noise\-\_\-mu} & \-The expected measurement noise \\
\hline
\mbox{\tt in}  & {\em measurement\-\_\-noise\-\_\-cov} & \-The expected measurement covariance \\
\hline
\end{DoxyParams}


\-Definition at line 19 of file imufilter.\-cpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!$\sim$\-I\-M\-U\-Filter@{$\sim$\-I\-M\-U\-Filter}}
\index{$\sim$\-I\-M\-U\-Filter@{$\sim$\-I\-M\-U\-Filter}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{$\sim$\-I\-M\-U\-Filter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-I\-M\-U\-Filter\-::$\sim$\-I\-M\-U\-Filter} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [virtual]}}\label{classkvh__driver_1_1IMUFilter_a86d395f5a863cae746ab2bc30e371132}


\-Definition at line 73 of file imufilter.\-cpp.



\subsection{\-Member \-Function \-Documentation}
\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!get\-Estimate@{get\-Estimate}}
\index{get\-Estimate@{get\-Estimate}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{get\-Estimate}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-I\-M\-U\-Filter\-::get\-Estimate} (
\begin{DoxyParamCaption}
\item[{\-Column\-Vector \&}]{estimate, }
\item[{\-Symmetric\-Matrix \&}]{covar}
\end{DoxyParamCaption}
) const}\label{classkvh__driver_1_1IMUFilter_aff90eec29f374b50ad1853c77874ee22}


\-Gets the latest state estimate from the filter. 

\begin{DoxyAuthor}{\-Author}
\-Adam \-Panzica 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em estimate} & \-Vector to write the state estimate to \\
\hline
\mbox{\tt out}  & {\em covar} & \-Matrix to write the state estimate covariance to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-True if the estimate was sucessfully retrieved, else false
\end{DoxyReturn}
\-Note that the init method must have been called prior to getting estimates 

\-Definition at line 125 of file imufilter.\-cpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!init@{init}}
\index{init@{init}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-I\-M\-U\-Filter\-::init} (
\begin{DoxyParamCaption}
\item[{const \-Column\-Vector \&}]{initial\-\_\-state, }
\item[{const \-Symmetric\-Matrix \&}]{initial\-\_\-covar}
\end{DoxyParamCaption}
)}\label{classkvh__driver_1_1IMUFilter_ae25fb3707744de06747b5ab143aae355}


\-Initializes the filter to an initial state estimate and covariance. 

\begin{DoxyAuthor}{\-Author}
\-Adam \-Panzica 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em initial\-\_\-state} & \-The initial state estimate \\
\hline
\mbox{\tt in}  & {\em initial\-\_\-covar} & \-The initial state estimate covariance \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-True if sucessfully intialized, else false
\end{DoxyReturn}
\-Note that the size of the state vector and covariance matrix must match the size defined by the constant \-S\-Y\-S\-T\-E\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-S\-I\-Z\-E 

\-Definition at line 84 of file imufilter.\-cpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!update@{update}}
\index{update@{update}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-I\-M\-U\-Filter\-::update} (
\begin{DoxyParamCaption}
\item[{const \-Column\-Vector \&}]{input, }
\item[{const \-Column\-Vector \&}]{measurement}
\end{DoxyParamCaption}
)}\label{classkvh__driver_1_1IMUFilter_abb31807874cc07f73b70d93a1980b3a4}


\-Updates the filter given new system input and measurement. 

\begin{DoxyAuthor}{\-Author}
\-Adam \-Panzica 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt in}  & {\em input} & \-The new system input \\
\hline
\mbox{\tt in}  & {\em measurement} & \-The new state measurement \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-True if succesfully updated, else false \-Note that the init method must be called before performing filter updates.
\end{DoxyReturn}
\-Note that the size of the input and measurement vectors must match the size defined by the constants \-I\-N\-P\-U\-T\-\_\-\-S\-I\-Z\-E and \-M\-E\-A\-S\-U\-R\-E\-M\-E\-N\-T\-\_\-\-S\-I\-Z\-E 

\-Definition at line 101 of file imufilter.\-cpp.



\subsection{\-Member \-Data \-Documentation}
\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!\-A\-B\-\_\-@{\-A\-B\-\_\-}}
\index{\-A\-B\-\_\-@{\-A\-B\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{\-A\-B\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}std\-::vector$<$\-Matrix$>$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::\-A\-B\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a47f298cffece4e20fe0eced3e7410fda}
\-The combined system evolution dynamics 

\-Definition at line 143 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!filter\-\_\-@{filter\-\_\-}}
\index{filter\-\_\-@{filter\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{filter\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Extended\-Kalman\-Filter$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::filter\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a3c522c49f5761dec1144b2a77e686d3a}
\-The actual \-B\-F\-L \-Extended\-Kalman\-Filter for the system 

\-Definition at line 172 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!filter\-\_\-init\-\_\-@{filter\-\_\-init\-\_\-}}
\index{filter\-\_\-init\-\_\-@{filter\-\_\-init\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{filter\-\_\-init\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::filter\-\_\-init\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_af8e1eaff2bb879410b1b67badee08e75}
\-Flag for signalling an initialized filter 

\-Definition at line 168 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!\-H\-\_\-@{\-H\-\_\-}}
\index{\-H\-\_\-@{\-H\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{\-H\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Matrix$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::\-H\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_ad7b470b96bc0d3f817e5e0915ae8f4f0}
\-The measurement transform \-Matrix 

\-Definition at line 147 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!mes\-\_\-model\-\_\-@{mes\-\_\-model\-\_\-}}
\index{mes\-\_\-model\-\_\-@{mes\-\_\-model\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{mes\-\_\-model\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Linear\-Analytic\-Measurement\-Model\-Gaussian\-Uncertainty$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::mes\-\_\-model\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a5dee2c82d998f87a2f7a65461e1a5ac3}
\-The measurement uncertanty model 

\-Definition at line 163 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!mes\-\_\-pdf\-\_\-@{mes\-\_\-pdf\-\_\-}}
\index{mes\-\_\-pdf\-\_\-@{mes\-\_\-pdf\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{mes\-\_\-pdf\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Linear\-Analytic\-Conditional\-Gaussian$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::mes\-\_\-pdf\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a20887e6c8867c9ecb7896c3c04cb2330}
\-The measurement \-Gaussian \-P\-D\-F 

\-Definition at line 159 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!prior\-\_\-@{prior\-\_\-}}
\index{prior\-\_\-@{prior\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{prior\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Gaussian$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::prior\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a86d7af469718ba5c84744efc0518b945}
\-The current state estimate as of the last filter update, or the initial state estimate if no update has been performed 

\-Definition at line 176 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!sys\-\_\-model\-\_\-@{sys\-\_\-model\-\_\-}}
\index{sys\-\_\-model\-\_\-@{sys\-\_\-model\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{sys\-\_\-model\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Linear\-Analytic\-System\-Model\-Gaussian\-Uncertainty$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::sys\-\_\-model\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a86cee9be8d1bb33032b0e9cf4d039e0b}
\-The system uncertanty model 

\-Definition at line 155 of file imufilter.\-hpp.

\index{kvh\-\_\-driver\-::\-I\-M\-U\-Filter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}!sys\-\_\-pdf\-\_\-@{sys\-\_\-pdf\-\_\-}}
\index{sys\-\_\-pdf\-\_\-@{sys\-\_\-pdf\-\_\-}!kvh_driver::IMUFilter@{kvh\-\_\-driver\-::\-I\-M\-U\-Filter}}
\subsubsection[{sys\-\_\-pdf\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-Linear\-Analytic\-Conditional\-Gaussian$\ast$ {\bf kvh\-\_\-driver\-::\-I\-M\-U\-Filter\-::sys\-\_\-pdf\-\_\-}\hspace{0.3cm}{\ttfamily  [private]}}\label{classkvh__driver_1_1IMUFilter_a3f96ad360e36d278fb482dfc03cf0266}
\-The system \-Gaussian \-P\-D\-F 

\-Definition at line 151 of file imufilter.\-hpp.



\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
{\bf imufilter.\-hpp}\item 
{\bf imufilter.\-cpp}\end{DoxyCompactItemize}
